import{G as g,r as k,j as t,m as f,c as j}from"./vendor-DEGo8gup.js";import{u as C,l as h,X as E,F as c,B as y}from"./index-Dsq7dpNl.js";const _=m=>m.reduce((s,a)=>{if(a.elementType==="date")return a.fields.forEach(l=>s[l.name]=l.defaultValue),s;if(a.elementType==="time")return a.fields.forEach(l=>{var r;return s[l.name]=l.defaultValue?(r=l.defaultValue)==null?void 0:r.replace("-",":"):null}),s;const n=a.defaultValue;if(a.elementType==="select"){const l=a.options.find(r=>r.value===n);return s[a.name]=n?l:null,s}return a.elementType==="checkBox"||a.elementType==="switcher"?(s[a.name]=!!n,s):(s[a.name]=n||"",s)},{}),S=m=>Object.entries(m).reduce((s,[a,n])=>(s[a]=n||null,s),{}),V="_FilterOverlay_1t2sa_44",O="_Filter_1t2sa_44",w="_header_1t2sa_69",B="_title_1t2sa_75",X="_body_1t2sa_80",D="_label_1t2sa_88",I="_buttons_1t2sa_92",P="_field_1t2sa_98",R="_container_1t2sa_105",i={FilterOverlay:V,Filter:O,header:w,title:B,body:X,label:D,buttons:I,field:P,container:R},q=m=>{const{isShowClose:s=!0,className:a,onClose:n,config:l=[]}=m,{control:r,handleSubmit:F,reset:b}=g({defaultValues:_(l)}),[G,x]=C(),N=e=>{const d=S(e),u=Object.entries(d).reduce((o,[T,p])=>(o[T]=typeof p=="object"&&p!==null?p.value:p,o),{});x(o=>({...o,page:1,...u})),n(),b()},v=async()=>{x(()=>({page:1})),n()};return k.useEffect(()=>{b(_(l))},[l]),t.jsxs(t.Fragment,{children:[t.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},exit:{opacity:0},className:j(i.FilterOverlay),onClick:n}),t.jsxs(f.form,{animate:{transform:"translateX(-320px)"},exit:{transform:"translateX(0)"},transition:{duration:.3},className:j(i.Filter,a),onSubmit:F(N),children:[t.jsxs("div",{className:i.header,onClick:e=>e.stopPropagation(),children:[t.jsx("h2",{className:i.title,children:h.title.filter}),s&&t.jsx(E,{onClick:n})]}),t.jsx("div",{className:i.body,children:l.map((e,d)=>t.jsxs("div",{children:[e.groupName&&t.jsx("div",{className:i.label,children:e.groupName}),e.elementType==="input"&&t.jsx(c.Input,{control:r,name:e.name,placeholder:e.placeholder,label:e.label}),e.elementType==="checkBox"&&t.jsx(c.Checkbox,{control:r,name:e.name,label:e.label}),e.elementType==="select"&&t.jsx(c.Select,{control:r,name:e.name,options:e.options,placeholder:e.placeholder,label:e.label}),e.elementType==="switcher"&&t.jsx(c.Switch,{control:r,name:e.name,label:e.label}),e.elementType==="date"&&t.jsxs("div",{className:i.field,children:[t.jsx("span",{children:e.label}),t.jsx("div",{className:i.container,children:e.fields.map((u,o)=>t.jsx(c.Input,{control:r,type:"date",name:u.name},o))},d)]}),e.elementType==="time"&&t.jsxs("div",{className:i.field,children:[t.jsx("span",{children:e.label}),t.jsx("div",{className:i.container,children:e.fields.map((u,o)=>t.jsx(c.Input,{control:r,type:"time",name:u.name},o))},d)]})]},d))}),t.jsxs("div",{className:i.buttons,children:[t.jsx(y,{type:"submit",children:h.btn.acceptFilters}),t.jsx(y,{type:"button",theme:"white",onClick:v,children:h.btn.clearFilters})]})]})]})};export{q as default};
